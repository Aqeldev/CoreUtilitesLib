package org.connecttag.utilities.global.deviceinfoimport android.Manifestimport android.content.Contextimport android.content.pm.PackageManagerimport android.os.Buildimport android.telephony.SubscriptionManagerimport android.telephony.TelephonyManagerclass SimInformation {    var simTypeSlot: String? = null        var simTypeSlot2: String? = null        var lineNumber: String? = null        var line2Number: String? = null        var simSerialNo: String? = null        var simSerialNo2: String? = null        var imeiSlot: String? = null        var meidSlot: String? = null        var imeiSlot2: String? = null        var meidSlot2: String? = null        var operatorNameSlot: String? = null        var operatorNameSlot2: String? = null        var subScraperIdSlot: String? = null        var subScraperIdSlot2: String? = null        var networkCountryIso: String? = null        var imei: String? = null        var phone: String? = null         fun readSimInfo(context: Context) {            try {                val PhoneService = android.content.Context.TELEPHONY_SERVICE                val telephonyManager = context.getSystemService(PhoneService) as TelephonyManager                if (context.checkSelfPermission(Manifest.permission.READ_PHONE_STATE) !== PackageManager.PERMISSION_GRANTED                ) {                    return                }                //LINE_1_NUMBER                try {                    lineNumber = telephonyManager.line1Number                } catch (_: Exception) {                }                //SIM_TYPE                try {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {                        this.simTypeSlot =                            if (telephonyManager.phoneType == TelephonyManager.PHONE_TYPE_CDMA) {                                "CDMA"                            } else if (telephonyManager.phoneType == TelephonyManager.PHONE_TYPE_GSM) {                                "GSM"                            } else {                                "Unknown"                            }                    }                } catch (_: Exception) {                }                try {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {                        this.imeiSlot = telephonyManager.getImei(0)                    }                } catch (_: Exception) {                }                try {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {                        this.imeiSlot2 = telephonyManager.getImei(1)                    }                } catch (_: Exception) {                }                try {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {                        this.meidSlot = telephonyManager.getMeid(0)                    }                } catch (_: Exception) {                }                try {                    if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {                        meidSlot2 = telephonyManager.getMeid(1)                    }                } catch (_: Exception) {                }                try {                    this.subScraperIdSlot = telephonyManager.subscriberId                } catch (_: Exception) {                }                try {                    this.simSerialNo = telephonyManager.simSerialNumber                } catch (_: Exception) {                }                val tm = context.getSystemService(Context.TELEPHONY_SERVICE) as TelephonyManager?                try {                    imei = tm?.deviceId                } catch (_: Exception) {                }                try {                    if (tm != null) {                        phone = tm.line1Number                    }                } catch (_: Exception) {                }                //NetworkCountryIso                networkCountryIso = try {                    telephonyManager.networkCountryIso                } catch (_: Exception) {                    ""                }                if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {                    val sManager =                        context.getSystemService(Context.TELEPHONY_SUBSCRIPTION_SERVICE) as SubscriptionManager                    if (context.checkSelfPermission(Manifest.permission.READ_PHONE_STATE) === PackageManager.PERMISSION_GRANTED                    ) {                        val infoSim1 = sManager.getActiveSubscriptionInfoForSimSlotIndex(0)                        val infoSim2 = sManager.getActiveSubscriptionInfoForSimSlotIndex(1)                        this.simSerialNo = infoSim1.iccId                        operatorNameSlot = infoSim1.displayName.toString()                        if (infoSim2 != null) {                            this.simSerialNo2 = infoSim2.iccId                            this.operatorNameSlot2 = infoSim2.displayName.toString()                        }                        //SLOT 1                        if (infoSim1 != null) {                            this.subScraperIdSlot = telephonyManager.subscriberId                            subScraperIdSlot2 = ""                            if (Build.VERSION.SDK_INT >= Build.VERSION_CODES.O) {                                this.imeiSlot = telephonyManager.imei                                this.meidSlot = telephonyManager.meid                                if (telephonyManager.imei == telephonyManager.getImei(1)                                    || telephonyManager.meid == telephonyManager.getMeid(1)                                ) {                                    this.imeiSlot2 = telephonyManager.getImei(0)                                    meidSlot2 = telephonyManager.getMeid(0)                                } else {                                    this.imeiSlot2 = telephonyManager.getImei(1)                                    meidSlot2 = telephonyManager.getMeid(1)                                }                                lineNumber = telephonyManager.line1Number                                this.line2Number = ""                            }                        }                        //SLOT 2                        if (infoSim2 != null) {                            if (this.operatorNameSlot2!! == telephonyManager.networkOperatorName                            ) {                                this.subScraperIdSlot = ""                                subScraperIdSlot2 = telephonyManager.subscriberId                                simTypeSlot2 = this.simTypeSlot                                this.simTypeSlot = ""                                if (Build.VERSION.SDK_INT >= 26) {                                    this.imeiSlot2 = telephonyManager.imei                                    meidSlot2 = telephonyManager.meid                                    if (telephonyManager.imei == telephonyManager.getImei(1)                                        || telephonyManager.meid == telephonyManager.getMeid(1)                                    ) {                                        this.imeiSlot = telephonyManager.getImei(0)                                        this.meidSlot = telephonyManager.getMeid(0)                                    } else {                                        this.imeiSlot = telephonyManager.getImei(1)                                        this.meidSlot = telephonyManager.getMeid(1)                                    }                                    lineNumber = ""                                    this.line2Number = telephonyManager.line1Number                                }                            }                        }                    }                }            } catch (_: Exception) {            }        }        private fun setDefaultValues() {            try {                if (this.imeiSlot == null) this.imeiSlot = "0"                if (this.imeiSlot2 == null) this.imeiSlot2 = "0"                if (this.meidSlot == null) this.meidSlot = "0"                if (meidSlot2 == null) meidSlot2 = "0"                if (this.subScraperIdSlot == null) this.subScraperIdSlot = "0"                if (subScraperIdSlot2 == null) subScraperIdSlot2 = "0"                if (this.simSerialNo == null) this.simSerialNo = "0"                if (this.simSerialNo2 == null) this.simSerialNo2 = "0"            } catch (_: Exception) {            }        }    }